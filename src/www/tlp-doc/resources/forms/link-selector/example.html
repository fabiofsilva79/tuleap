<div class="tlp-form-element">
    <label class="tlp-label" for="link-selector-sb">Link selector</label>
    <select id="link-selector-sb" name="list-value" value=""></select>
    <p class="tlp-text-info"><i class="fa-solid fa-circle-question" aria-hidden="true"></i>
        In this live example, type <code class="code-inline">105</code> in the search field to simulate some content fetched from a remote endpoint.
    </p>
    <script type="text/javascript">
        import { createLinkSelector } from "@tuleap/link-selector";

        const link_selector = createLinkSelector(document.querySelector('#link-selector-sb'), {
            placeholder: "Please select an item to link",
            search_input_placeholder: "Type a number",
            templating_callback: (html, item) => html`${item.id}`,
            selection_callback: (selected_value) => {
                console.log("Selected value : " + selected_value);
            },
            search_field_callback: (query) => {
                console.log("Serach query : " + query);
                link_selector.setDropdownContent([{
                    label: "Matching items",
                    empty_message: "No matching item",
                    items: [{
                        value: {id: 105},
                        option_value: "105",
                    }]
                }])
            }
        });
    </script>
</div>
